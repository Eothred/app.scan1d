<?xml version = '1.0' encoding = 'UTF-8'?>
<!DOCTYPE modelMapping SYSTEM "xdxf.dtd">
<map>
    <association smf="xal.smf.impl.Bend" model="xal.model.elem.IdealWedgeDipole2" sync="true">
        <initialize>
            <parameter label="ID"                 smfval="getId"             mset="setId"               type="java.lang.String"/>
            <parameter label="physical length"    smfval="getLength"         mset="setPhysicalLength"   type="java.lang.double" />
            <parameter label="design path length" smfval="getDfltPathLength" mset="setDesignPathLength" type="java.lang.double" />
            <parameter label="B"                  smfval="getDesignField"    mset="setMagField"         type="java.lang.double"/>
            <parameter label="field index"        smfget="getFieldIndex"     mset="setFieldIndex"       type="java.lang.double" />
                <!-- see ScenerioGenerator#visit(Dipole e) for calculation of the field index value on the fly -->
        </initialize>
        <synchronize>
            <parameter mode="DESIGN" smfval="getDesignField" mset="setMagField" type="java.lang.double"/>
            <parameter mode="LIVE"   smfval="getField"       mset="setMagField" type="java.lang.double"/>
        </synchronize>
    </association>
    
    <association smf="xal.smf.impl.RfCavity" model="xal.model.elem.RfCavityStruct" sync="true">
        <initialize>
            <parameter label="ID"           smfval="getId"          mset="setId"          type="java.lang.String"/>
            <parameter label="RF Amplitude" smfval="getDfltCavAmp"  mset="setRfAmplitude" type="java.lang.double"/>
            <parameter label="RF Phase"     smfval="getDftCavPhase" mset="setRfPhase"     type="java.lang.double"/>
            <parameter label="T(k)"         smfval="getTTFFit"      mset="setT"           type="xal.tools.math.poly.UnivariateRealPolynomial"/>
            <parameter label="T'(k)"        smfval="getTTFPrimeFit" mset="setTp"          type="xal.tools.math.poly.UnivariateRealPolynomial"/>
            <parameter label="S(k)"         smfval="getSTFFit"      mset="setS"           type="xal.tools.math.poly.UnivariateRealPolynomial"/>
            <parameter label="S'(k)"        smfval="getSTFPrimeFit" mset="setSp"          type="xal.tools.math.poly.UnivariateRealPolynomial"/>
        </initialize>
        <synchronize>
            <parameter mode="DESIGN" smfval="getDfltCavAmp"       mset="setRfAmplitude" type="java.lang.double"/>
            <parameter mode="LIVE"   smfval="getCavAmpSetPoint"   mset="setRfAmplitude" type="java.lang.double"/>
            <parameter mode="DESIGN" smfval="getDftCavPhase"      mset="setRfPhase"     type="java.lang.double"/>
            <parameter mode="LIVE"   smfval="getCavPhaseSetPoint" mset="setRfPhase"     type="java.lang.double"/>
        </synchronize>
</map>